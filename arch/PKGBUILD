# Maintainer: Art Pinch <leonardo90690@gmail.com>

pkgname=androraider
appName=AnDroRaider
pkgver=0.1
pkgrel=1
pkgdesc="Small IDE for decompiled Android apps"
arch=('x86_64')

build() {
    cd ../..

    ./gradlew packageArch
}

package() {
    cd ../..

    buildDir=app/build
    extraResources="$buildDir"/linux-extra

	install -d "$pkgdir"/opt
	appInstallRoot=opt/"$pkgname"
	cp -R "$buildDir"/image "$pkgdir"/"$appInstallRoot"

    logoDir="$pkgdir"/usr/share/pixmaps
	mkdir -p "$logoDir"
	cp "$extraResources"/"$appName".png "$logoDir"/"$appName".png

	desktopDir="$pkgdir"/usr/share/applications
	mkdir -p "$desktopDir"
    cp "$extraResources"/"$appName".desktop "$desktopDir"/"$pkgname".desktop

    execFile=/"$appInstallRoot"/bin/"$appName"

    binDir="$pkgdir"/usr/bin
    mkdir -p "$binDir"
    install "$extraResources"/"$pkgname".sh "$binDir"/"$pkgname"
}
